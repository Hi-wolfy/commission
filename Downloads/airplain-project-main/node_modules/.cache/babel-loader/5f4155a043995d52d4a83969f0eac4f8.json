{"ast":null,"code":"import _slicedToArray from\"/Users/ai4blockchain/Downloads/self-check/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import Modal from'./Modal';import React,{useState}from'react';import CarryOn from'./components/carryon';import Checked from'./components/checked';import CarryLimit from'./components/carrylimit';import API from'./api-server';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalVisible=_useState2[0],setModalVisible=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),modalCase=_useState4[0],setModalCase=_useState4[1];var _useState5=useState({'name':'사진을 업로드해주세요.'}),_useState6=_slicedToArray(_useState5,2),selectedFile=_useState6[0],setSelectedFile=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),resultResponse=_useState8[0],setResultResponse=_useState8[1];var openModal=function openModal(color){setModalVisible(true);setModalCase(color);};var closeModal=function closeModal(){setModalVisible(false);};var chooseModal=function chooseModal(){switch(modalCase){case'red':return/*#__PURE__*/_jsx(CarryOn,{});case'yellow':return/*#__PURE__*/_jsx(Checked,{});case'green':return/*#__PURE__*/_jsx(CarryLimit,{});default:return;}};var submitImage=function submitImage(){var formData=new FormData();formData.append('img',selectedFile);API.imageSend(formData).then(function(resp){return setResultResponse(resp);}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uBC18\\uC785\\uAE08\\uC9C0 \\uC140\\uD504 \\uCCB4\\uD06C\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){openModal('red');},className:\"linker\",children:\"\\uAE08\\uC9C0 \\uBB3C\\uD488\"}),\"\\uC740 \",/*#__PURE__*/_jsx(\"span\",{className:\"red_background\",children:\"\\uBE68\\uAC04\\uC0C9\"}),\"\\uC73C\\uB85C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){openModal('green');},className:\"linker\",children:\"\\uAE30\\uB0B4 \\uB610\\uB294 \\uC704\\uD0C1 \\uAC00\\uB2A5 \\uBB3C\\uD488\"}),\"\\uC740 \",/*#__PURE__*/_jsx(\"span\",{className:\"green_background\",children:\"\\uCD08\\uB85D\\uC0C9\"}),\"\\uC73C\\uB85C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){openModal('yellow');},className:\"linker\",children:\"\\uD06C\\uAE30 \\uB610\\uB294 \\uC6A9\\uB7C9 \\uC81C\\uD55C \\uBB3C\\uD488\"}),\"\\uC740 \",/*#__PURE__*/_jsx(\"span\",{className:\"yellow_background\",children:\"\\uB178\\uB780\\uC0C9\"}),\"\\uC73C\\uB85C\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD45C\\uC2DC\\uB429\\uB2C8\\uB2E4. \\uC0AC\\uC9C4\\uC744 \\uC5C5\\uB85C\\uB4DC\\uD574\\uC8FC\\uC138\\uC694!\"}),modalVisible&&/*#__PURE__*/_jsx(Modal,{visible:modalVisible,closable:true,maskClosable:true,onClose:closeModal,children:chooseModal()}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\uC5C5\\uB85C\\uB4DC \\uC804 \\uCCB4\\uD06C\\uD574\\uC8FC\\uC138\\uC694\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"check\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uBB34\\uB2AC\\uAC00 \\uC5C6\\uB294 \\uBC30\\uACBD\\uC5D0\\uC11C \\uCD2C\\uC601\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uBB3C\\uD488 \\uC804\\uCCB4\\uAC00 \\uB098\\uC624\\uB3C4\\uB85D \\uCD2C\\uC601\\uD574\\uC8FC\\uC138\\uC694\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"filebox\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"upload-name\",value:selectedFile.name,disabled:\"disabled\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"input-file\",className:\"input-file-btn\",children:\"\\uC0AC\\uC9C4 \\uC5C5\\uB85C\\uB4DC\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"input-file\",class:\"upload-hidden\",style:{display:\"none\"},onChange:function onChange(e){return setSelectedFile(e.target.files[0]);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:submitImage,children:\"\\uC140\\uD504 \\uCCB4\\uD06C \\uC2DC\\uC791\"}),resultResponse?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:'data:image/gif;base64,'+resultResponse['data']['after_detection'],alt:\"\"})}):null]});}export default App;","map":{"version":3,"sources":["/Users/ai4blockchain/Downloads/self-check/src/App.js"],"names":["Modal","React","useState","CarryOn","Checked","CarryLimit","API","App","modalVisible","setModalVisible","modalCase","setModalCase","selectedFile","setSelectedFile","resultResponse","setResultResponse","openModal","color","closeModal","chooseModal","submitImage","formData","FormData","append","imageSend","then","resp","catch","error","console","log","name","display","e","target","files"],"mappings":"gKAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CAEb,cAAwCL,QAAQ,CAAC,KAAD,CAAhD,wCAAOM,YAAP,eAAqBC,eAArB,eACA,eAAkCP,QAAQ,CAAC,EAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAAwCT,QAAQ,CAAC,CAAC,OAAO,cAAR,CAAD,CAAhD,yCAAOU,YAAP,eAAqBC,eAArB,eACA,eAA4CX,QAAQ,CAAC,IAAD,CAApD,yCAAOY,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,CACzBR,eAAe,CAAC,IAAD,CAAf,CACAE,YAAY,CAACM,KAAD,CAAZ,CACD,CAHD,CAIA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBT,eAAe,CAAC,KAAD,CAAf,CACD,CAFD,CAGA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,OAAOT,SAAP,EACE,IAAK,KAAL,CACE,mBAAO,KAAC,OAAD,IAAP,CACF,IAAK,QAAL,CACE,mBAAO,KAAC,OAAD,IAAP,CACF,IAAK,OAAL,CACE,mBAAO,KAAC,UAAD,IAAP,CACF,QACE,OARJ,CAUD,CAXD,CAYA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CACAD,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAuBX,YAAvB,EACAN,GAAG,CAACkB,SAAJ,CAAcH,QAAd,EACGI,IADH,CACQ,SAAAC,IAAI,QAAIX,CAAAA,iBAAiB,CAACW,IAAD,CAArB,EADZ,EAEGC,KAFH,CAES,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAFd,EAGD,CAND,CAQA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,0EADF,cAEE,kCAAG,aAAM,OAAO,CAAE,kBAAM,CAACZ,SAAS,CAAC,KAAD,CAAT,CAAiB,CAAvC,CAAyC,SAAS,CAAC,QAAnD,uCAAH,wBAA6E,aAAM,SAAS,CAAC,gBAAhB,gCAA7E,kBAFF,cAGE,kCAAG,aAAM,OAAO,CAAE,kBAAM,CAACA,SAAS,CAAC,OAAD,CAAT,CAAmB,CAAzC,CAA2C,SAAS,CAAC,QAArD,8EAAH,wBAAwF,aAAM,SAAS,CAAC,kBAAhB,gCAAxF,kBAHF,cAIE,kCAAG,aAAM,OAAO,CAAE,kBAAM,CAACA,SAAS,CAAC,QAAD,CAAT,CAAoB,CAA1C,CAA4C,SAAS,CAAC,QAAtD,8EAAH,wBAAyF,aAAM,SAAS,CAAC,mBAAhB,gCAAzF,kBAJF,cAKE,qHALF,CAQIR,YAAY,eAAI,KAAC,KAAD,EAChB,OAAO,CAAEA,YADO,CAEhB,QAAQ,CAAE,IAFM,CAGhB,YAAY,CAAE,IAHE,CAIhB,OAAO,CAAEU,UAJO,UAKZC,WAAW,EALC,EARpB,cAiBE,aAAK,SAAS,CAAC,MAAf,wBACE,gCAAG,0FAAH,EADF,cAEE,YAAI,SAAS,CAAC,OAAd,wBACE,qHADF,cAEE,qHAFF,GAFF,GAjBF,cAyBE,aAAK,KAAK,CAAC,SAAX,wBACE,cAAO,KAAK,CAAC,aAAb,CAA2B,KAAK,CAAEP,YAAY,CAACmB,IAA/C,CAAqD,QAAQ,CAAC,UAA9D,EADF,cAEE,cAAO,OAAO,CAAC,YAAf,CAA4B,SAAS,CAAC,gBAAtC,6CAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,YAAtB,CAAmC,KAAK,CAAC,eAAzC,CAAyD,KAAK,CAAE,CAACC,OAAO,CAAC,MAAT,CAAhE,CAAkF,QAAQ,CAAE,kBAACC,CAAD,QAAOpB,CAAAA,eAAe,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAtB,EAA5F,EAHF,GAzBF,cA8BE,eAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEf,WAAjC,oDA9BF,CAgCIN,cAAc,cAAG,kCAAK,YAAK,GAAG,CAAE,yBAA2BA,cAAc,CAAC,MAAD,CAAd,CAAuB,iBAAvB,CAArC,CAAgF,GAAG,CAAC,EAApF,EAAL,EAAH,CAA8G,IAhChI,GADF,CAqCD,CAED,cAAeP,CAAAA,GAAf","sourcesContent":["import './App.css';\nimport Modal from './Modal'\nimport React, { useState } from 'react';\nimport CarryOn from './components/carryon'\nimport Checked from './components/checked'\nimport CarryLimit from './components/carrylimit'\nimport API from './api-server'\n\nfunction App() {\n\n  const [modalVisible, setModalVisible] = useState(false)\n  const [modalCase, setModalCase] = useState(\"\")\n  const [selectedFile, setSelectedFile] = useState({'name':'사진을 업로드해주세요.'})\n  const [resultResponse, setResultResponse] = useState(null)\n\n  const openModal = color => {\n    setModalVisible(true)\n    setModalCase(color)\n  }\n  const closeModal = () => {\n    setModalVisible(false)\n  }\n  const chooseModal = () => {\n    switch(modalCase) {\n      case 'red':\n        return <CarryOn />\n      case 'yellow':\n        return <Checked />\n      case 'green':\n        return <CarryLimit />\n      default:\n        return;\n    }\n  }\n  const submitImage = () => {\n    const formData = new FormData();\n    formData.append('img', selectedFile);\n    API.imageSend(formData)\n      .then(resp => setResultResponse(resp))\n      .catch(error => console.log(error))\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>반입금지 셀프 체크</h1>\n      <p><span onClick={() => {openModal('red')}} className=\"linker\">금지 물품</span>은 <span className=\"red_background\">빨간색</span>으로</p>\n      <p><span onClick={() => {openModal('green')}} className=\"linker\">기내 또는 위탁 가능 물품</span>은 <span className=\"green_background\">초록색</span>으로</p>\n      <p><span onClick={() => {openModal('yellow')}} className=\"linker\">크기 또는 용량 제한 물품</span>은 <span className=\"yellow_background\">노란색</span>으로</p>\n      <p>표시됩니다. 사진을 업로드해주세요!</p>\n\n      {\n        modalVisible && <Modal\n        visible={modalVisible}\n        closable={true}\n        maskClosable={true}\n        onClose={closeModal}>\n          { chooseModal() }\n        </Modal>\n      }\n\n      <div className=\"card\">\n        <p><strong>업로드 전 체크해주세요</strong></p>\n        <ul className=\"check\">\n          <li>무늬가 없는 배경에서 촬영해주세요</li>\n          <li>물품 전체가 나오도록 촬영해주세요</li>\n        </ul>\n      </div>\n\n      <div class=\"filebox\">\n        <input class=\"upload-name\" value={selectedFile.name} disabled=\"disabled\" />\n        <label htmlFor=\"input-file\" className=\"input-file-btn\">사진 업로드</label>\n        <input type=\"file\" id=\"input-file\" class=\"upload-hidden\" style={{display:\"none\"}} onChange={(e) => setSelectedFile(e.target.files[0])}/>\n      </div>\n      <button className=\"btn\" onClick={submitImage}>셀프 체크 시작</button>\n\n      { resultResponse ? <div><img src={'data:image/gif;base64,' + resultResponse['data']['after_detection']} alt=\"\"></img></div> : null }\n\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}